# ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงูุชุงููุฉ - ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

## ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ โ

1. โ ุชุญุฏูุซ ูููุฐุฌ Groq ุฅูู `llama-3.2-11b-vision-preview`
2. โ ุฅุถุงูุฉ logging ูุญุณูู ูู Gemini ูุฑุคูุฉ ุงูุจูุงูุงุช ุงูุฎุงู
3. โ Gemini ูุนูู ุจูุฌุงุญ

---

## ุงููุดููุฉ ุงูุญุงููุฉ

```
โ ูุฌุญ Gemini! ุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุจูุฌุงุญ
DEBUG AI ITEMS: extracted 0 items
```

**ูุนูู ูุฐุง:**
- Gemini ุงุณุชุฎุฑุฌ ุงูุจูุงูุงุช ุจูุฌุงุญ
- ููู ูู ูุฌุฏ ุฃู ุนูุงุตุฑ (line_items) ูู ุงููุงุชูุฑุฉ
- ูุฏ ูููู ุงูุณุจุจ:
  - ุงูููู ูุงู PDF ูููุณ ุตูุฑุฉ ูุงุถุญุฉ
  - ุงููุงุชูุฑุฉ ูุง ุชุญุชูู ุนูู ุฌุฏูู ุนูุงุตุฑ ูุงุถุญ
  - prompt ูุญุชุงุฌ ุชุญุณูู

---

## ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ ุงูุชุงููุฉ

### 1. ุงุฎุชุจุงุฑ ูุน ุตูุฑุฉ ูุงุถุญุฉ (ููู ุฌุฏุงู!)

**ุจุฏูุงู ูู PDFุ ุงุณุชุฎุฏู:**
- ุตูุฑุฉ JPG ุฃู PNG
- ุฏูุฉ ุนุงููุฉ (ุนูู ุงูุฃูู 1000x1000 ุจูุณู)
- ุฅุถุงุกุฉ ุฌูุฏุฉ ูุจุฏูู ุธูุงู
- ูุต ูุงุถุญ ูููุฑูุก

**ููููุฉ ุชุญููู PDF ุฅูู ุตูุฑุฉ:**
```bash
# ุฅุฐุง ูุงู ูุฏูู ImageMagick
magick convert invoice.pdf invoice.png

# ุฃู ุงุณุชุฎุฏู ุฃู ุฃุฏุงุฉ ุชุญููู PDF ุฅูู ุตูุฑุฉ
```

### 2. ุชุฃูุฏ ูู ูุญุชูู ุงููุงุชูุฑุฉ

**ุงููุงุชูุฑุฉ ูุฌุจ ุฃู ุชุญุชูู ุนูู:**
- โ ุฌุฏูู ูุงุถุญ ุจุงูุนูุงุตุฑ
- โ ุฃุนูุฏุฉ: ุงุณู ุงูููุชุฌุ ุงููููุฉุ ุงูุณุนุฑุ ุงูุฅุฌูุงูู
- โ ูุต ูุงุถุญ (ุนุฑุจู ุฃู ุฅูุฌููุฒู)

**ูุซุงู ุนูู ูุงุชูุฑุฉ ุฌูุฏุฉ:**
```
ุงูููุชุฌ          ุงููููุฉ    ุงูุณุนุฑ    ุงูุฅุฌูุงูู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุฃุฑุฒ ุฃุจู ูุงุณ      10      25000    250000
ุณูุฑ             5       30000    150000
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ุงูุฅุฌูุงูู:                         400000
```

### 3. ุฑุงูุจ ุงูุณุฌูุงุช ุงูุฌุฏูุฏุฉ

ุจุนุฏ ุงูุชุญุฏูุซุ ุณุชุดุงูุฏ ูู ุงูุณุฌูุงุช:

```
๐ข ุงููุญุงููุฉ 3: ุงุณุชุฎุฏุงู Gemini API...
๐ Gemini Raw Response:
{
  "invoice_date": "2025-11-26",
  "invoice_number": "123",
  "line_items": [
    {"name": "ุฃุฑุฒ", "qty": 10, "price": 25000, "amount": 250000}
  ],
  ...
}
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฆ ุนุฏุฏ ุงูุนูุงุตุฑ ุงููุณุชุฎุฑุฌุฉ: 1
โ ูุฌุญ Gemini! ุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุจูุฌุงุญ
DEBUG AI ITEMS: extracted 1 items
```

**ุฅุฐุง ุฑุฃูุช `line_items: []` ูุงุฑุบุฉ:**
- ุงููุงุชูุฑุฉ ูุง ุชุญุชูู ุนูู ุฌุฏูู ุนูุงุตุฑ ูุงุถุญ
- ุฃู Gemini ูู ูุชููู ูู ูุฑุงุกุฉ ุงูุฌุฏูู

---

## ุงูุฃูุงูุฑ ููุงุฎุชุจุงุฑ

### ุชุดุบูู ุงูุชุทุจูู:
```bash
flutter run
```

### ุฅุฐุง ุฃุฑุฏุช ุฅุนุงุฏุฉ ุจูุงุก ูุงููุฉ:
```bash
flutter clean
flutter pub get
flutter run
```

---

## ูุงุฐุง ุชูุนู ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ

### ุงูุณููุงุฑูู 1: Gemini ูุฑุฌุน `line_items: []` ูุงุฑุบุฉ

**ุงูุญู:**
1. ุชุญูู ูู ุงูุตูุฑุฉ - ูู ุงูุฌุฏูู ูุงุถุญุ
2. ุฌุฑุจ ุตูุฑุฉ ุฃุฎุฑู ุฃูุถุญ
3. ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุณูุญุณู prompt ูู `gemini_service.dart`

### ุงูุณููุงุฑูู 2: Gemini ูุฑุฌุน ุจูุงูุงุช ููู ุจููุงุชูุญ ูุฎุชููุฉ

**ูุซุงู:**
```json
{
  "items": [...],  // ุจุฏูุงู ูู line_items
  "products": [...] // ุจุฏูุงู ูู line_items
}
```

**ุงูุญู:**
- ุงูููุฏ ูุฏุนู ุจุงููุนู ุชูููุนุงุช ูุซู `items`, `products`, `details`
- ููู ุฅุฐุง ูุงู ุงูููุชุงุญ ูุฎุชูู ุชูุงูุงูุ ุณูุถููู

### ุงูุณููุงุฑูู 3: Groq ูุนูู ุงูุขู

**ุฅุฐุง ูุฌุญ Groq:**
```
๐ต ุงููุญุงููุฉ 2: ุงุณุชุฎุฏุงู Groq API...
โ ูุฌุญ Groq! ุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุจูุฌุงุญ
```

**ุฑุงุฆุน!** ูุนูู ูุฐุง ุฃู ุงูุชุญุฏูุซ ูุฌุญ.

---

## ูุตุงุฆุญ ููุญุตูู ุนูู ุฃูุถู ูุชุงุฆุฌ

### 1. ุฌูุฏุฉ ุงูุตูุฑุฉ
- โ ุงุณุชุฎุฏู ูุงููุฑุง ุฌูุฏุฉ ุฃู ูุงุณุญ ุถูุฆู
- โ ุชุฃูุฏ ูู ุงูุฅุถุงุกุฉ ุงูุฌูุฏุฉ
- โ ุชุฌูุจ ุงูุธูุงู ูุงูุงูุนูุงุณุงุช
- โ ุงุฌุนู ุงูุตูุฑุฉ ูุณุชูููุฉ (ุบูุฑ ูุงุฆูุฉ)

### 2. ููุน ุงูููู
- โ **ุงูุฃูุถู:** JPG ุฃู PNG
- โ๏ธ **ูุนูู ููู ุฃุจุทุฃ:** PDF
- โ **ูุง ูุนูู:** ูููุงุช Word ุฃู Excel

### 3. ุญุฌู ุงูููู
- โ **ุงูุฃูุถู:** 500 KB - 5 MB
- โ๏ธ **ูุฏ ูููู ุจุทูุก:** ุฃูุจุฑ ูู 10 MB
- โ **ูุฏ ููุดู:** ุฃูุจุฑ ูู 20 MB

### 4. ูุญุชูู ุงููุงุชูุฑุฉ
- โ ุฌุฏูู ูุงุถุญ ุจุงูุนูุงุตุฑ
- โ ุฃุฑูุงู ูุงุถุญุฉ ูููุฑูุกุฉ
- โ ูุต ุจุฎุท ูุจูุฑ ูุณุจูุงู
- โ ุชุฌูุจ ุงูุฎุทูุท ุงููุฏููุฉ ุบูุฑ ุงููุงุถุญุฉ

---

## ุงูุฎูุงุตุฉ

**ุงูุขู:**
1. โ Groq ุชู ุฅุตูุงุญู (ูููุฐุฌ ุฌุฏูุฏ)
2. โ Gemini ูุนูู
3. โ Logging ูุญุณูู ูุฑุคูุฉ ุงูุจูุงูุงุช

**ุงูุชุงูู:**
- ุฌุฑุจ ูุน ุตูุฑุฉ ูุงุถุญุฉ (JPG/PNG)
- ุฑุงูุจ ุงูุณุฌูุงุช ุงูุฌุฏูุฏุฉ
- ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ุดุงุฑู ุงูุณุฌูุงุช ูุนู

**ูููุณุงุนุฏุฉ:**
- ุฅุฐุง ุฑุฃูุช `line_items: []` ูุงุฑุบุฉุ ุดุงุฑู:
  1. ููุน ุงูููู (PDF/JPG/PNG)
  2. ุงูุณุฌูุงุช ุงููุงููุฉ ูู Gemini
  3. ููุทุฉ ุดุงุดุฉ ูู ุงููุงุชูุฑุฉ (ุฅู ุฃููู)
