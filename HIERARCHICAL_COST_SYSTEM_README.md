# نظام التكلفة الهيراركي التلقائي

## نظرة عامة
تم تطوير نظام تكلفة هيراركي تلقائي يقوم بحساب تكلفة الوحدات الأكبر تلقائياً بناءً على تكلفة الوحدة الأساسية وعدد الوحدات في كل مستوى.

## كيفية العمل

### 1. إدخال التكلفة الأساسية
- المستخدم يدخل فقط **تكلفة القطعة الواحدة** في حقل "سعر التكلفة للوحدة"
- مثال: إذا كانت تكلفة القطعة الواحدة = 10 ريال

### 2. إعداد هرمية الوحدات
- المستخدم يحدد الوحدات الأكبر وعدد الوحدات الصغيرة في كل منها
- مثال:
  - **باكيت** يحتوي على **10 قطع**
  - **كرتون** يحتوي على **10 باكيتات**

### 3. الحساب التلقائي للتكلفة
النظام يحسب التكلفة تلقائياً:

```
تكلفة القطعة = 10 ريال
تكلفة الباكيت = 10 × 10 = 100 ريال
تكلفة الكرتون = 100 × 10 = 1000 ريال
```

## المميزات

### ✅ **تلقائية كاملة**
- لا حاجة لإدخال التكلفة يدوياً لكل مستوى
- الحساب يتم فورياً عند تغيير أي قيمة

### ✅ **دقة في الحساب**
- النظام يضرب التكلفة × الكمية في كل مستوى
- النتائج تظهر بفاصلة عشرية منزلتين

### ✅ **واجهة بسيطة**
- المستخدم يرى التكلفة المحسوبة في حقول معتمة (غير قابلة للتعديل)
- لا تظهر حقول إدخال التكلفة للوحدات الإضافية

### ✅ **مرونة في التعديل**
- يمكن تغيير الكمية أو اسم الوحدة في أي وقت
- التكلفة تتحدث تلقائياً

## مثال عملي

### منتج: أقلام حبر

**الوحدات:**
1. **قطعة** = 10 ريال (تكلفة أساسية)
2. **باكيت** = 10 قطع = 100 ريال (محسوب تلقائياً)
3. **كرتون** = 10 باكيتات = 1000 ريال (محسوب تلقائياً)

**الحساب:**
```
القطعة: 10 ريال
الباكيت: 10 × 10 = 100 ريال
الكرتون: 100 × 10 = 1000 ريال
```

## كيفية الاستخدام

### 1. إدخال اسم المنتج
- اكتب اسم المنتج في حقل "اسم البضاعة"

### 2. اختيار وحدة البيع
- اختر "قطعة" من قائمة "وحدة البيع"

### 3. إدخال التكلفة الأساسية
- اكتب تكلفة القطعة الواحدة في حقل "سعر التكلفة للوحدة"

### 4. إضافة الوحدات الأكبر
- اضغط "إضافة وحدة أكبر"
- اختر اسم الوحدة (مثل: باكيت)
- اكتب عدد القطع في الباكيت (مثل: 10)
- كرر العملية للوحدات الأكبر

### 5. مراجعة التكلفة المحسوبة
- ستظهر التكلفة المحسوبة تلقائياً لكل مستوى
- لا يمكن تعديل هذه القيم - هي محسوبة تلقائياً

## ملاحظات مهمة

### ⚠️ **لا يمكن تعديل التكلفة المحسوبة**
- التكلفة للوحدات الإضافية محسوبة تلقائياً
- لا تظهر حقول إدخال لهذه القيم

### ⚠️ **التكلفة الأساسية فقط**
- المستخدم يدخل فقط تكلفة القطعة الواحدة
- باقي التكاليف محسوبة تلقائياً

### ⚠️ **الترتيب مهم**
- يجب إدخال الوحدات بالترتيب الصحيح (من الأصغر للأكبر)
- النظام يحسب التكلفة بناءً على الترتيب المدخل

## استكشاف الأخطاء

### المشكلة: التكلفة لا تظهر
**الحل:** تأكد من:
- إدخال تكلفة القطعة الواحدة
- تحديد عدد الوحدات في كل مستوى
- اختيار اسم الوحدة بشكل صحيح

### المشكلة: التكلفة خاطئة
**الحل:** تأكد من:
- صحة عدد الوحدات في كل مستوى
- ترتيب الوحدات (من الأصغر للأكبر)

### المشكلة: لا يمكن إضافة وحدات
**الحل:** تأكد من:
- اختيار "قطعة" كوحدة بيع
- عدم اختيار وحدة نهائية (كرتون، صندوق، ربطة) في المستوى الأول

## الدعم التقني

إذا واجهت أي مشاكل في النظام، يرجى:
1. التأكد من إدخال جميع البيانات المطلوبة
2. مراجعة ترتيب الوحدات
3. التأكد من صحة الأرقام المدخلة
