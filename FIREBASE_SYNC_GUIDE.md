# ๐ฅ ุฏููู ูุฒุงููุฉ Firebase ุงูููุฑูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ูุฒุงููุฉ ููุฑู (Real-time) ูุนูู ูู ุงูุฎูููุฉ ุจูู ุงูุฃุฌูุฒุฉ ุนุจุฑ Firebase Firestore.

### ุงูููุฒุงุช:
- โ **Offline-First**: ูุนูู ุจุฏูู ุฅูุชุฑูุช ููุฒุงูู ุชููุงุฆูุงู ุนูุฏ ุงูุนูุฏุฉ
- โ **Real-time**: ุงูุชุบููุฑุงุช ุชุธูุฑ ููุฑุงู ุนูู ุงูุฃุฌูุฒุฉ ุงูุฃุฎุฑู
- โ **ูุฌููุนุงุช ูุณุชููุฉ**: ูู ูุฌููุนุฉ (A/B) ูููุตูุฉ ุชูุงูุงู
- โ **ุญูุงูุฉ ุตุงุฑูุฉ**: ุชุบููุฑ ุงููุฌููุนุฉ ูุชุทูุจ 3 ูุฑุงุญู ุชุฃููุฏ
- โ **ูู ุงูุฎูููุฉ**: ูุง ูุธูุฑ ูููุณุชุฎุฏู ุฃู ุนูููุฉ ูุฒุงููุฉ

---

## ๐๏ธ ุงูุจููุฉ

```
Firebase Firestore
โ
โโโ sync_groups/
โ   โโโ group_A/                    โ ุญุงุณูุจ 1 + ุญุงุณูุจ 2
โ   โ   โโโ customers/{syncUuid}    โ ุจูุงูุงุช ุงูุนููุงุก
โ   โ   โโโ transactions/{syncUuid} โ ุจูุงูุงุช ุงููุนุงููุงุช
โ   โ
โ   โโโ group_B/                    โ ุญุงุณูุจ 3 + ุญุงุณูุจ 4
โ       โโโ customers/{syncUuid}
โ       โโโ transactions/{syncUuid}
```

---

## ๐ ุงููููุงุช

```
lib/services/firebase_sync/
โโโ firebase_sync.dart              โ ููู ุงูุชุตุฏูุฑ
โโโ firebase_sync_config.dart       โ ุฅุนุฏุงุฏุงุช ุงููุฌููุนุฉ
โโโ firebase_sync_service.dart      โ ุงูุฎุฏูุฉ ุงูุฑุฆูุณูุฉ
โโโ firebase_sync_helper.dart       โ ูุณุงุนุฏ ุงูุฑุจุท

lib/screens/
โโโ firebase_sync_settings_screen.dart  โ ุดุงุดุฉ ุงูุฅุนุฏุงุฏุงุช

lib/
โโโ firebase_options.dart           โ ุฅุนุฏุงุฏุงุช Firebase
```

---

## ๐ง ุงูุฅุนุฏุงุฏ

### 1. ุชูุนูู ุงููุฒุงููุฉ
1. ุงุฐูุจ ุฅูู **ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ**
2. ุงุถุบุท ุนูู **ูุฒุงููุฉ Firebase ุงูููุฑูุฉ**
3. ุงุฎุชุฑ **ุงููุฌููุนุฉ** (ุฃ ุฃู ุจ)
4. ูุนูู **ุงููุฒุงููุฉ**

### 2. ุชุบููุฑ ุงููุฌููุนุฉ (ูุญูู)
ูุชุทูุจ 3 ูุฑุงุญู:
1. **ุชุญุฏู ุฑูุงุถู**: ุญู ูุนุงุฏูุฉ ุตุนุจุฉ (ูุซู: 847.36 ร 29.15 = ?)
2. **ุฑุณุงูุฉ ุชุญุฐูุฑูุฉ**: ุชุฃููุฏ ููู ุงูุนูุงูุจ
3. **ูููุฉ ุงูุณุฑ**: ุฅุฏุฎุงู ูููุฉ ุณุฑ ุงูุชุทุจูู

---

## ๐ ููู ุชุนูู ุงููุฒุงููุฉ

### ุนูุฏ ุฅุถุงูุฉ/ุชุนุฏูู ุนููู ุฃู ูุนุงููุฉ:
1. ููุญูุธ ูู SQLite ุงููุญูู ุฃููุงู
2. ููุฑูุน ุฅูู Firebase ูู ุงูุฎูููุฉ
3. ุงูุฃุฌูุฒุฉ ุงูุฃุฎุฑู ูู ููุณ ุงููุฌููุนุฉ ุชุณุชูุจู ุงูุชุบููุฑ ููุฑุงู

### ุนูุฏ ุงููุทุงุน ุงูุฅูุชุฑูุช:
1. ุงูุชุทุจูู ูุนูู ุจุดูู ุทุจูุนู (ูุญููุงู)
2. ุงูุชุบููุฑุงุช ุชูุฎุฒู ูุญููุงู
3. ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุชุ ุชูุฑูุน ุชููุงุฆูุงู ูู ุงูุฎูููุฉ

### ุญู ุงูุชุนุงุฑุถุงุช:
- **Last-Write-Wins**: ุงูุฃุญุฏุซ ุญุณุจ `lastModifiedAt` ูููุฒ
- ูู ุณุฌู ูู `syncUuid` ูุฑูุฏ ุนุงูููุงู

---

## ๐ ุงูุจูุงูุงุช ุงูููุฒุงููุฉ

| ุงูุฌุฏูู | ููุฒุงูู | ููุงุญุธุงุช |
|--------|--------|---------|
| customers | โ | ุงูุนููุงุก |
| transactions | โ | ุงููุนุงููุงุช |
| products | โ | ูุง ููุฒุงูู |
| invoices | โ | ูุง ููุฒุงูู |
| invoice_items | โ | ูุง ููุฒุงูู |

---

## ๐ ุงูุฃูุงู

- **Soft Delete**: ุงูุญุฐู ูุง ูุฒูู ุงูุณุฌูุงุช ูุนููุงู
- **UUID**: ูู ุณุฌู ูู ูุนุฑู ูุฑูุฏ ุนุงูููุงู
- **lastModifiedAt**: ูุชุชุจุน ุขุฎุฑ ุชุนุฏูู
- **deviceId**: ูุชูููุฒ ูุตุฏุฑ ุงูุชุบููุฑ

---

## ๐ฐ ุงูุชูููุฉ

Firebase Spark (ูุฌุงูู):
- 50,000 ูุฑุงุกุฉ/ููู
- 20,000 ูุชุงุจุฉ/ููู
- 1 GB ุชุฎุฒูู

ููุงุณุชุฎุฏุงู ุงูุนุงุฏู (4 ุญูุงุณูุจ)ุ ุณุชุจูู ูู ุงูุญุฏ ุงููุฌุงูู.

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุฒุงููุฉ ูุง ุชุนูู:
1. ุชุฃูุฏ ูู ุชูุนูู ุงููุฒุงููุฉ ูู ุงูุฅุนุฏุงุฏุงุช
2. ุชุฃูุฏ ูู ุงุฎุชูุงุฑ ูุฌููุนุฉ
3. ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช

### ุงูุจูุงูุงุช ูุง ุชุธูุฑ ุนูู ุงูุฌูุงุฒ ุงูุขุฎุฑ:
1. ุชุฃูุฏ ุฃู ุงูุฌูุงุฒูู ูู ููุณ ุงููุฌููุนุฉ
2. ุงูุชุธุฑ ุจุถุน ุซูุงูู
3. ุงุถุบุท "ูุฒุงููุฉ ุงูุขู" ูู ุงูุฅุนุฏุงุฏุงุช

### ุฎุทุฃ ูู Firebase:
- ุชุญูู ูู Firebase Console
- ุชุฃูุฏ ูู ุชูุนูู Firestore
- ุชุญูู ูู ููุงุนุฏ ุงูุฃูุงู

---

**ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ:** Kiro AI Assistant  
**ุงูุชุงุฑูุฎ:** ููุงูุฑ 2026  
**ุงูุฅุตุฏุงุฑ:** 1.0.0
